
git clone https://github.com/dmlesc/c0mp0ze.git

============
 prometheus
============

cd prometheus
vim prometheus.yml
  edit: node/targets

mkdir data_prometheus
sudo chown nobody:nogroup data_prometheus
mkdir data_grafana
sudo chown 472:472 data_grafana
docker-compose up -d

http://localhost:3000/login
  Create API Key

python3 restore_datasources.py localhost [token]
python3 restore_dashboards.py localhost [token]

TODO
  make new dashboards
  use latest grafana/prometheus


==============
 elasticstack
==============

cd elasticstack
mkdir -p data/
chown 1000:1000 data/
docker-compose up -d

TODO
  add elasticsearch_exporter

=======
 squid
=======

cd squid
docker build -t squid .
docker-compose up -d

TODO
  format logs, send to fluentd
  make cache dir


=========
 mariadb
=========

cd mariadb
mkdir data
docker-compose up -d

TODO
  add mysqld_exporter


=========
 fluentd
=========

cd fluentd
docker-compose up -d

TODO
  config for syslog
  config for docker
  config for elasticstack output
